(()=>{var e={96:(e,t,n)=>{var i="Expected a function",o=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=l||u||Function("return this")(),f=Object.prototype.toString,g=Math.max,p=Math.min,v=function(){return d.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||a.test(e)?c(e.slice(2),n?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError(i);return m(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),function(e,t,n){var o,r,s,a,c,l,u=0,d=!1,f=!1,w=!0;if("function"!=typeof e)throw new TypeError(i);function b(t){var n=o,i=r;return o=r=void 0,u=t,a=e.apply(i,n)}function y(e){return u=e,c=setTimeout(L,t),d?b(e):a}function E(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-u>=s}function L(){var e=v();if(E(e))return N(e);c=setTimeout(L,function(e){var n=t-(e-l);return f?p(n,s-(e-u)):n}(e))}function N(e){return c=void 0,w&&o?b(e):(o=r=void 0,a)}function M(){var e=v(),n=E(e);if(o=arguments,r=this,l=e,n){if(void 0===c)return y(l);if(f)return c=setTimeout(L,t),b(l)}return void 0===c&&(c=setTimeout(L,t)),a}return t=h(t)||0,m(n)&&(d=!!n.leading,s=(f="maxWait"in n)?g(h(n.maxWait)||0,t):s,w="trailing"in n?!!n.trailing:w),M.cancel=function(){void 0!==c&&clearTimeout(c),u=0,o=l=r=c=void 0},M.flush=function(){return void 0===c?a:N(v())},M}(e,t,{leading:o,maxWait:t,trailing:r})}},57:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveLineMarker=void 0;const i=n(761);t.ActiveLineMarker=class{onDidChangeTextEditorSelection(e){const{previous:t}=(0,i.getElementsForSourceLine)(e);this._update(t&&t.element)}_update(e){this._unmarkActiveElement(this._current),this._markActiveElement(e),this._current=e}_unmarkActiveElement(e){e&&(e.className=e.className.replace(/\bcode-active-line\b/g,""))}_markActiveElement(e){e&&(e.className+=" code-active-line")}}},774:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onceDocumentLoaded=void 0,t.onceDocumentLoaded=function(e){"loading"===document.readyState||"uninitialized"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}},608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPosterForVsCode=void 0;const i=n(414);t.createPosterForVsCode=e=>new class{postMessage(t,n){e.postMessage({type:t,source:(0,i.getSettings)().source,body:n})}}},761:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEditorLineNumberForPageOffset=t.scrollToRevealSourceLine=t.getLineElementsAtPageOffset=t.getElementsForSourceLine=void 0;const i=n(414);function o(e){return 0,t=(0,i.getSettings)().lineCount-1,n=e,Math.min(t,Math.max(0,n));var t,n}const r=(()=>{let e;return()=>(e||(e=Array.prototype.map.call(document.querySelectorAll('div[class^="data-line-"], div[class*=" data-line-"]'),(e=>{const t=e.className.split(" ").pop().match(/data-line-(\d+)/)[1];return{element:e,line:parseInt(t)}})).filter((e=>!isNaN(e.line)))),e)})();function s(e){const t=Math.floor(e),n=r();let i=n[0]||null;for(const e of n){if(e.line===t)return{previous:e,next:void 0};if(e.line>t)return{previous:i,next:e};i=e}return{previous:i}}function a(e){const t=r(),n=e-window.scrollY;let i=-1,o=t.length-1;for(;i+1<o;){const e=Math.floor((i+o)/2),r=t[e].element.getBoundingClientRect();r.top+r.height>=n?o=e:i=e}const s=t[o],a=s.element.getBoundingClientRect();return o>=1&&a.top>n?{previous:t[i],next:s}:{previous:s}}t.getElementsForSourceLine=s,t.getLineElementsAtPageOffset=a,t.scrollToRevealSourceLine=function(e){const{previous:t,next:n}=s(e);if(t&&(0,i.getSettings)().scrollPreviewWithEditor){let i=0;const o=t.element.getBoundingClientRect().top;if(n&&n.line!==t.line){const r=(e-t.line)/(n.line-t.line),s=n.element.getBoundingClientRect().top-o;i=window.scrollY+o+r*s}else i=0===e?0:window.scrollY+o;window.scroll(0,Math.max(1,i))}},t.getEditorLineNumberForPageOffset=function(e){const{previous:t,next:n}=a(e);if(t){const i=t.element.getBoundingClientRect(),r=e-window.scrollY-i.top;if(n){const e=r/(n.element.getBoundingClientRect().top-i.top);return o(t.line+e*(n.line-t.line))}{const e=r/i.height;return o(t.line+e)}}return null}},414:(e,t)=>{"use strict";let n;function i(e){const t=document.getElementById("vscode-asciidoc-preview-data");if(t){const n=t.getAttribute(e);if(n)return JSON.parse(n)}throw new Error(`Could not load data for ${e}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.getSettings=t.getData=void 0,t.getData=i,t.getSettings=function(){if(n)return n;if(n=i("data-settings"),n)return n;throw new Error("Could not load settings")}}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e=n(57),t=n(774),i=n(608),o=n(761),r=n(414),s=n(96);let a=!0;const c=new e.ActiveLineMarker,l=(0,r.getSettings)(),u=acquireVsCodeApi(),d=(0,r.getData)("data-state");u.setState(d);const f=(0,i.createPosterForVsCode)(u);window.cspAlerter.setPoster(f),window.styleLoadingMonitor.setPoster(f),window.onload=()=>{p()},(0,t.onceDocumentLoaded)((()=>{l.scrollPreviewWithEditor&&setTimeout((()=>{const e=+l.line;isNaN(e)||(a=!0,(0,o.scrollToRevealSourceLine)(e))}),0)}));const g=(()=>{const e=s((e=>{a=!0,(0,o.scrollToRevealSourceLine)(e)}),50);return(t,n)=>{isNaN(t)||(n.line=t,e(t))}})(),p=s((()=>{const e=[],t=document.getElementsByTagName("img");if(t){let n;for(n=0;n<t.length;n++){const i=t[n];i.classList.contains("loading")&&i.classList.remove("loading"),e.push({id:i.id,height:i.height,width:i.width})}f.postMessage("cacheImageSizes",e)}}),50);window.addEventListener("resize",(()=>{a=!0,p()}),!0),window.addEventListener("message",(e=>{if(e.data.source===l.source)switch(e.data.type){case"onDidChangeTextEditorSelection":c.onDidChangeTextEditorSelection(e.data.line);break;case"updateView":g(e.data.line,l)}}),!1),document.addEventListener("dblclick",(e=>{if(!l.doubleClickToSwitchToEditor)return;for(let t=e.target;t;t=t.parentNode)if("A"===t.tagName)return;const t=e.pageY,n=(0,o.getEditorLineNumberForPageOffset)(t);"number"!=typeof n||isNaN(n)||f.postMessage("didClick",{line:Math.floor(n)})}));const v=["http:","https:","mailto:","vscode:","vscode-insiders:"];document.addEventListener("click",(e=>{if(!e)return;let t=e.target;for(;t;){if(t.tagName&&"A"===t.tagName&&t.href){if(t.getAttribute("href").startsWith("#"))return;let n=t.getAttribute("data-href");if(!n){if(v.some((e=>t.href.startsWith(e))))return;n=t.getAttribute("href")}return/^[a-z-]+:/i.test(n)?void 0:(f.postMessage("clickLink",{href:n}),e.preventDefault(),void e.stopPropagation())}t=t.parentNode}}),!0),l.scrollEditorWithPreview&&window.addEventListener("scroll",s((()=>{if(a)a=!1;else{const e=(0,o.getEditorLineNumberForPageOffset)(window.scrollY);0===window.scrollY?f.postMessage("revealLine",{line:0}):"number"!=typeof e||isNaN(e)||f.postMessage("revealLine",{line:e})}}),50))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXLEtBQ3ZDLE9BRUYsSUFBSUMsRUFBV1QsRUFBSzNDLGFBQWEsYUFDakMsSUFBS29ELEVBQVUsQ0FFYixHQUFJSCxFQUF1QkksTUFBTUMsR0FBV1gsRUFBS08sS0FBS0MsV0FBV0csS0FDL0QsT0FFRkYsRUFBV1QsRUFBSzNDLGFBQWEsUUFJL0IsTUFBSyxhQUFhOUcsS0FBS2tLLFFBTXZCLEdBTEVsQyxFQUFVeEUsWUFBWSxZQUFhLENBQUV3RyxLQUFNRSxJQUMzQ1gsRUFBTWMsc0JBQ05kLEVBQU1lLG1CQUtWYixFQUFPQSxFQUFLRSxlQUViLEdBRUMvQixFQUFTMkMseUJBQ1hwRixPQUFPOUIsaUJBQWlCLFNBQVVzRixHQUFTLEtBQ3pDLEdBQUlsQixFQUNGQSxHQUFpQixNQUNaLENBQ0wsTUFBTWpGLEdBQU8sSUFBQXNILGtDQUFpQzNFLE9BQU9DLFNBQzlCLElBQW5CRCxPQUFPQyxRQUVUNEMsRUFBVXhFLFlBQVksYUFBYyxDQUFFaEIsS0FBTSxJQUNuQixpQkFBVEEsR0FBc0JpQyxNQUFNakMsSUFDNUN3RixFQUFVeEUsWUFBWSxhQUFjLENBQUVoQixLQUFBQSxPQUd6QyxNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXNjaWlkb2N0b3ItdnNjb2RlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC50aHJvdHRsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9hc2NpaWRvY3Rvci12c2NvZGUvLi9wcmV2aWV3LXNyYy9hY3RpdmVMaW5lTWFya2VyLnRzIiwid2VicGFjazovL2FzY2lpZG9jdG9yLXZzY29kZS8uL3ByZXZpZXctc3JjL2V2ZW50cy50cyIsIndlYnBhY2s6Ly9hc2NpaWRvY3Rvci12c2NvZGUvLi9wcmV2aWV3LXNyYy9tZXNzYWdpbmcudHMiLCJ3ZWJwYWNrOi8vYXNjaWlkb2N0b3ItdnNjb2RlLy4vcHJldmlldy1zcmMvc2Nyb2xsLXN5bmMudHMiLCJ3ZWJwYWNrOi8vYXNjaWlkb2N0b3ItdnNjb2RlLy4vcHJldmlldy1zcmMvc2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vYXNjaWlkb2N0b3ItdnNjb2RlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2FzY2lpZG9jdG9yLXZzY29kZS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2FzY2lpZG9jdG9yLXZzY29kZS8uL3ByZXZpZXctc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTkFOID0gMCAvIDA7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsYXN0QXJncyxcbiAgICAgIGxhc3RUaGlzLFxuICAgICAgbWF4V2FpdCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVySWQsXG4gICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgcmVzdWx0ID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZyA/IG5hdGl2ZU1pbihyZXN1bHQsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cbiAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gIH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0aHJvdHRsZTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IGdldEVsZW1lbnRzRm9yU291cmNlTGluZSB9IGZyb20gJy4vc2Nyb2xsLXN5bmMnXG5cbmV4cG9ydCBjbGFzcyBBY3RpdmVMaW5lTWFya2VyIHtcbiAgcHJpdmF0ZSBfY3VycmVudDogYW55XG5cbiAgb25EaWRDaGFuZ2VUZXh0RWRpdG9yU2VsZWN0aW9uIChsaW5lOiBudW1iZXIpIHtcbiAgICBjb25zdCB7IHByZXZpb3VzIH0gPSBnZXRFbGVtZW50c0ZvclNvdXJjZUxpbmUobGluZSlcbiAgICB0aGlzLl91cGRhdGUocHJldmlvdXMgJiYgcHJldmlvdXMuZWxlbWVudClcbiAgfVxuXG4gIF91cGRhdGUgKGJlZm9yZTogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLl91bm1hcmtBY3RpdmVFbGVtZW50KHRoaXMuX2N1cnJlbnQpXG4gICAgdGhpcy5fbWFya0FjdGl2ZUVsZW1lbnQoYmVmb3JlKVxuICAgIHRoaXMuX2N1cnJlbnQgPSBiZWZvcmVcbiAgfVxuXG4gIF91bm1hcmtBY3RpdmVFbGVtZW50IChlbGVtZW50OiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZCkge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSgvXFxiY29kZS1hY3RpdmUtbGluZVxcYi9nLCAnJylcbiAgfVxuXG4gIF9tYXJrQWN0aXZlRWxlbWVudCAoZWxlbWVudDogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQpIHtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAnIGNvZGUtYWN0aXZlLWxpbmUnXG4gIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9uY2VEb2N1bWVudExvYWRlZCAoZjogKCkgPT4gdm9pZCkge1xuICAvLyBAdHMtaWdub3JlIFRTMjM2N1xuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICd1bmluaXRpYWxpemVkJykge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmKVxuICB9IGVsc2Uge1xuICAgIGYoKVxuICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmltcG9ydCB7IGdldFNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncydcblxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlUG9zdGVyIHtcbiAgLyoqXG4gICAqIFBvc3QgYSBtZXNzYWdlIHRvIHRoZSBhc2NpaWRvYyBleHRlbnNpb25cbiAgICovXG4gIHBvc3RNZXNzYWdlKHR5cGU6IHN0cmluZywgYm9keTogb2JqZWN0KTogdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBvc3RlckZvclZzQ29kZSA9ICh2c2NvZGU6IGFueSkgPT4ge1xuICByZXR1cm4gbmV3IGNsYXNzIGltcGxlbWVudHMgTWVzc2FnZVBvc3RlciB7XG4gICAgcG9zdE1lc3NhZ2UgKHR5cGU6IHN0cmluZywgYm9keTogb2JqZWN0KTogdm9pZCB7XG4gICAgICB2c2NvZGUucG9zdE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlLFxuICAgICAgICBzb3VyY2U6IGdldFNldHRpbmdzKCkuc291cmNlLFxuICAgICAgICBib2R5LFxuICAgICAgfSlcbiAgICB9XG4gIH0oKVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5pbXBvcnQgeyBnZXRTZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3MnXG5cbmZ1bmN0aW9uIGNsYW1wIChtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpIHtcbiAgcmV0dXJuIE1hdGgubWluKG1heCwgTWF0aC5tYXgobWluLCB2YWx1ZSkpXG59XG5cbmZ1bmN0aW9uIGNsYW1wTGluZSAobGluZTogbnVtYmVyKSB7XG4gIHJldHVybiBjbGFtcCgwLCBnZXRTZXR0aW5ncygpLmxpbmVDb3VudCAtIDEsIGxpbmUpXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29kZUxpbmVFbGVtZW50IHtcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gIGxpbmU6IG51bWJlcjtcbn1cblxuY29uc3QgZ2V0Q29kZUxpbmVFbGVtZW50cyA9ICgoKSA9PiB7XG4gIGxldCBlbGVtZW50czogQ29kZUxpbmVFbGVtZW50W11cbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAoIWVsZW1lbnRzKSB7XG4gICAgICBlbGVtZW50cyA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2W2NsYXNzXj1cImRhdGEtbGluZS1cIl0sIGRpdltjbGFzcyo9XCIgZGF0YS1saW5lLVwiXScpLFxuICAgICAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NvZGUtbGluZScpLFxuICAgICAgICAoZWxlbWVudDogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgbnVtID0gZWxlbWVudC5jbGFzc05hbWUuc3BsaXQoJyAnKS5wb3AoKS5tYXRjaCgvZGF0YS1saW5lLShcXGQrKS8pWzFdXG4gICAgICAgICAgY29uc3QgbGluZSA9IHBhcnNlSW50KG51bSlcbiAgICAgICAgICAvL2NvbnN0IGxpbmUgPSArZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbGluZScpO1xuICAgICAgICAgIHJldHVybiB7IGVsZW1lbnQsIGxpbmUgfVxuICAgICAgICB9KVxuICAgICAgICAuZmlsdGVyKCh4OiBhbnkpID0+ICFpc05hTih4LmxpbmUpKSBhcyBDb2RlTGluZUVsZW1lbnRbXVxuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudHNcbiAgfVxufSkoKVxuXG4vKipcbiAqIEZpbmQgdGhlIGh0bWwgZWxlbWVudHMgdGhhdCBtYXAgdG8gYSBzcGVjaWZpYyB0YXJnZXQgbGluZSBpbiB0aGUgZWRpdG9yLlxuICpcbiAqIElmIGFuIGV4YWN0IG1hdGNoLCByZXR1cm5zIGEgc2luZ2xlIGVsZW1lbnQuIElmIHRoZSBsaW5lIGlzIGJldHdlZW4gZWxlbWVudHMsXG4gKiByZXR1cm5zIHRoZSBlbGVtZW50IHByaW9yIHRvIGFuZCB0aGUgZWxlbWVudCBhZnRlciB0aGUgZ2l2ZW4gbGluZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRzRm9yU291cmNlTGluZSAodGFyZ2V0TGluZTogbnVtYmVyKTogeyBwcmV2aW91czogQ29kZUxpbmVFbGVtZW50OyBuZXh0PzogQ29kZUxpbmVFbGVtZW50OyB9IHtcbiAgY29uc3QgbGluZU51bWJlciA9IE1hdGguZmxvb3IodGFyZ2V0TGluZSlcbiAgY29uc3QgbGluZXMgPSBnZXRDb2RlTGluZUVsZW1lbnRzKClcbiAgbGV0IHByZXZpb3VzID0gbGluZXNbMF0gfHwgbnVsbFxuICBmb3IgKGNvbnN0IGVudHJ5IG9mIGxpbmVzKSB7XG4gICAgaWYgKGVudHJ5LmxpbmUgPT09IGxpbmVOdW1iZXIpIHtcbiAgICAgIHJldHVybiB7IHByZXZpb3VzOiBlbnRyeSwgbmV4dDogdW5kZWZpbmVkIH1cbiAgICB9IGVsc2UgaWYgKGVudHJ5LmxpbmUgPiBsaW5lTnVtYmVyKSB7XG4gICAgICByZXR1cm4geyBwcmV2aW91cywgbmV4dDogZW50cnkgfVxuICAgIH1cbiAgICBwcmV2aW91cyA9IGVudHJ5XG4gIH1cbiAgcmV0dXJuIHsgcHJldmlvdXMgfVxufVxuXG4vKipcbiAqIEZpbmQgdGhlIGh0bWwgZWxlbWVudHMgdGhhdCBhcmUgYXQgYSBzcGVjaWZpYyBwaXhlbCBvZmZzZXQgb24gdGhlIHBhZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMaW5lRWxlbWVudHNBdFBhZ2VPZmZzZXQgKG9mZnNldDogbnVtYmVyKTogeyBwcmV2aW91czogQ29kZUxpbmVFbGVtZW50OyBuZXh0PzogQ29kZUxpbmVFbGVtZW50OyB9IHtcbiAgY29uc3QgbGluZXMgPSBnZXRDb2RlTGluZUVsZW1lbnRzKClcbiAgY29uc3QgcG9zaXRpb24gPSBvZmZzZXQgLSB3aW5kb3cuc2Nyb2xsWVxuICBsZXQgbG8gPSAtMVxuICBsZXQgaGkgPSBsaW5lcy5sZW5ndGggLSAxXG4gIHdoaWxlIChsbyArIDEgPCBoaSkge1xuICAgIGNvbnN0IG1pZCA9IE1hdGguZmxvb3IoKGxvICsgaGkpIC8gMilcbiAgICBjb25zdCBib3VuZHMgPSBsaW5lc1ttaWRdLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBpZiAoYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQgPj0gcG9zaXRpb24pIHtcbiAgICAgIGhpID0gbWlkXG4gICAgfSBlbHNlIHtcbiAgICAgIGxvID0gbWlkXG4gICAgfVxuICB9XG4gIGNvbnN0IGhpRWxlbWVudCA9IGxpbmVzW2hpXVxuICBjb25zdCBoaUJvdW5kcyA9IGhpRWxlbWVudC5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gIGlmIChoaSA+PSAxICYmIGhpQm91bmRzLnRvcCA+IHBvc2l0aW9uKSB7XG4gICAgY29uc3QgbG9FbGVtZW50ID0gbGluZXNbbG9dXG4gICAgcmV0dXJuIHsgcHJldmlvdXM6IGxvRWxlbWVudCwgbmV4dDogaGlFbGVtZW50IH1cbiAgfVxuICByZXR1cm4geyBwcmV2aW91czogaGlFbGVtZW50IH1cbn1cblxuLyoqXG4gKiBBdHRlbXB0IHRvIHJldmVhbCB0aGUgZWxlbWVudCBmb3IgYSBzb3VyY2UgbGluZSBpbiB0aGUgZWRpdG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsVG9SZXZlYWxTb3VyY2VMaW5lIChsaW5lOiBudW1iZXIpIHtcbiAgY29uc3QgeyBwcmV2aW91cywgbmV4dCB9ID0gZ2V0RWxlbWVudHNGb3JTb3VyY2VMaW5lKGxpbmUpXG4gIGlmIChwcmV2aW91cyAmJiBnZXRTZXR0aW5ncygpLnNjcm9sbFByZXZpZXdXaXRoRWRpdG9yKSB7XG4gICAgbGV0IHNjcm9sbFRvID0gMFxuICAgIGNvbnN0IHJlY3QgPSBwcmV2aW91cy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgY29uc3QgcHJldmlvdXNUb3AgPSByZWN0LnRvcFxuICAgIGlmIChuZXh0ICYmIG5leHQubGluZSAhPT0gcHJldmlvdXMubGluZSkge1xuICAgICAgLy8gQmV0d2VlbiB0d28gZWxlbWVudHMuIEdvIHRvIHBlcmNlbnRhZ2Ugb2Zmc2V0IGJldHdlZW4gdGhlbS5cbiAgICAgIGNvbnN0IGJldHdlZW5Qcm9ncmVzcyA9IChsaW5lIC0gcHJldmlvdXMubGluZSkgLyAobmV4dC5saW5lIC0gcHJldmlvdXMubGluZSlcbiAgICAgIGNvbnN0IGVsZW1lbnRPZmZzZXQgPSBuZXh0LmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gcHJldmlvdXNUb3BcbiAgICAgIHNjcm9sbFRvID0gd2luZG93LnNjcm9sbFkgKyBwcmV2aW91c1RvcCArIGJldHdlZW5Qcm9ncmVzcyAqIGVsZW1lbnRPZmZzZXRcbiAgICB9IGVsc2UgaWYgKGxpbmUgPT09IDApIHtcbiAgICAgIHNjcm9sbFRvID0gMFxuICAgIH0gZWxzZSB7XG4gICAgICBzY3JvbGxUbyA9IHdpbmRvdy5zY3JvbGxZICsgcHJldmlvdXNUb3BcbiAgICB9XG4gICAgd2luZG93LnNjcm9sbCgwLCBNYXRoLm1heCgxLCBzY3JvbGxUbykpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVkaXRvckxpbmVOdW1iZXJGb3JQYWdlT2Zmc2V0IChvZmZzZXQ6IG51bWJlcikge1xuICBjb25zdCB7IHByZXZpb3VzLCBuZXh0IH0gPSBnZXRMaW5lRWxlbWVudHNBdFBhZ2VPZmZzZXQob2Zmc2V0KVxuICBpZiAocHJldmlvdXMpIHtcbiAgICBjb25zdCBwcmV2aW91c0JvdW5kcyA9IHByZXZpb3VzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBjb25zdCBvZmZzZXRGcm9tUHJldmlvdXMgPSAob2Zmc2V0IC0gd2luZG93LnNjcm9sbFkgLSBwcmV2aW91c0JvdW5kcy50b3ApXG4gICAgaWYgKG5leHQpIHtcbiAgICAgIGNvbnN0IHByb2dyZXNzQmV0d2VlbkVsZW1lbnRzID0gb2Zmc2V0RnJvbVByZXZpb3VzIC8gKG5leHQuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSBwcmV2aW91c0JvdW5kcy50b3ApXG4gICAgICBjb25zdCBsaW5lID0gcHJldmlvdXMubGluZSArIHByb2dyZXNzQmV0d2VlbkVsZW1lbnRzICogKG5leHQubGluZSAtIHByZXZpb3VzLmxpbmUpXG4gICAgICByZXR1cm4gY2xhbXBMaW5lKGxpbmUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHByb2dyZXNzV2l0aGluRWxlbWVudCA9IG9mZnNldEZyb21QcmV2aW91cyAvIChwcmV2aW91c0JvdW5kcy5oZWlnaHQpXG4gICAgICBjb25zdCBsaW5lID0gcHJldmlvdXMubGluZSArIHByb2dyZXNzV2l0aGluRWxlbWVudFxuICAgICAgcmV0dXJuIGNsYW1wTGluZShsaW5lKVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5leHBvcnQgaW50ZXJmYWNlIFByZXZpZXdTZXR0aW5ncyB7XG4gIHNvdXJjZTogc3RyaW5nO1xuICBsaW5lOiBudW1iZXI7XG4gIGxpbmVDb3VudDogbnVtYmVyO1xuICBzY3JvbGxQcmV2aWV3V2l0aEVkaXRvcj86IGJvb2xlYW47XG4gIHNjcm9sbEVkaXRvcldpdGhQcmV2aWV3OiBib29sZWFuO1xuICBkaXNhYmxlU2VjdXJpdHlXYXJuaW5nczogYm9vbGVhbjtcbiAgZG91YmxlQ2xpY2tUb1N3aXRjaFRvRWRpdG9yOiBib29sZWFuO1xufVxuXG5sZXQgY2FjaGVkU2V0dGluZ3M6IFByZXZpZXdTZXR0aW5ncyB8IHVuZGVmaW5lZFxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YSAoa2V5OiBzdHJpbmcpOiBQcmV2aWV3U2V0dGluZ3Mge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZzY29kZS1hc2NpaWRvYy1wcmV2aWV3LWRhdGEnKVxuICBpZiAoZWxlbWVudCkge1xuICAgIGNvbnN0IGRhdGEgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShrZXkpXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpXG4gICAgfVxuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgbG9hZCBkYXRhIGZvciAke2tleX1gKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2V0dGluZ3MgKCk6IFByZXZpZXdTZXR0aW5ncyB7XG4gIGlmIChjYWNoZWRTZXR0aW5ncykge1xuICAgIHJldHVybiBjYWNoZWRTZXR0aW5nc1xuICB9XG5cbiAgY2FjaGVkU2V0dGluZ3MgPSBnZXREYXRhKCdkYXRhLXNldHRpbmdzJylcbiAgaWYgKGNhY2hlZFNldHRpbmdzKSB7XG4gICAgcmV0dXJuIGNhY2hlZFNldHRpbmdzXG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBsb2FkIHNldHRpbmdzJylcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0IHsgQWN0aXZlTGluZU1hcmtlciB9IGZyb20gJy4vYWN0aXZlTGluZU1hcmtlcidcbmltcG9ydCB7IG9uY2VEb2N1bWVudExvYWRlZCB9IGZyb20gJy4vZXZlbnRzJ1xuaW1wb3J0IHsgY3JlYXRlUG9zdGVyRm9yVnNDb2RlIH0gZnJvbSAnLi9tZXNzYWdpbmcnXG5pbXBvcnQgeyBnZXRFZGl0b3JMaW5lTnVtYmVyRm9yUGFnZU9mZnNldCwgc2Nyb2xsVG9SZXZlYWxTb3VyY2VMaW5lIH0gZnJvbSAnLi9zY3JvbGwtc3luYydcbmltcG9ydCB7IGdldERhdGEsIGdldFNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncydcbmltcG9ydCB0aHJvdHRsZSA9IHJlcXVpcmUoJ2xvZGFzaC50aHJvdHRsZScpO1xuXG5kZWNsYXJlIGxldCBhY3F1aXJlVnNDb2RlQXBpOiBhbnlcblxubGV0IHNjcm9sbERpc2FibGVkID0gdHJ1ZVxuY29uc3QgbWFya2VyID0gbmV3IEFjdGl2ZUxpbmVNYXJrZXIoKVxuY29uc3Qgc2V0dGluZ3MgPSBnZXRTZXR0aW5ncygpXG5cbmNvbnN0IHZzY29kZSA9IGFjcXVpcmVWc0NvZGVBcGkoKVxuXG4vLyBTZXQgVlMgQ29kZSBzdGF0ZVxuY29uc3Qgc3RhdGUgPSBnZXREYXRhKCdkYXRhLXN0YXRlJylcbnZzY29kZS5zZXRTdGF0ZShzdGF0ZSlcblxuY29uc3QgbWVzc2FnaW5nID0gY3JlYXRlUG9zdGVyRm9yVnNDb2RlKHZzY29kZSlcblxud2luZG93LmNzcEFsZXJ0ZXIuc2V0UG9zdGVyKG1lc3NhZ2luZylcbndpbmRvdy5zdHlsZUxvYWRpbmdNb25pdG9yLnNldFBvc3RlcihtZXNzYWdpbmcpXG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gIHVwZGF0ZUltYWdlU2l6ZXMoKVxufVxuXG5vbmNlRG9jdW1lbnRMb2FkZWQoKCkgPT4ge1xuICBpZiAoc2V0dGluZ3Muc2Nyb2xsUHJldmlld1dpdGhFZGl0b3IpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGluaXRpYWxMaW5lID0gK3NldHRpbmdzLmxpbmVcbiAgICAgIGlmICghaXNOYU4oaW5pdGlhbExpbmUpKSB7XG4gICAgICAgIHNjcm9sbERpc2FibGVkID0gdHJ1ZVxuICAgICAgICBzY3JvbGxUb1JldmVhbFNvdXJjZUxpbmUoaW5pdGlhbExpbmUpXG4gICAgICB9XG4gICAgfSwgMClcbiAgfVxufSlcblxuY29uc3Qgb25VcGRhdGVWaWV3ID0gKCgpID0+IHtcbiAgY29uc3QgZG9TY3JvbGwgPSB0aHJvdHRsZSgobGluZTogbnVtYmVyKSA9PiB7XG4gICAgc2Nyb2xsRGlzYWJsZWQgPSB0cnVlXG4gICAgc2Nyb2xsVG9SZXZlYWxTb3VyY2VMaW5lKGxpbmUpXG4gIH0sIDUwKVxuXG4gIHJldHVybiAobGluZTogbnVtYmVyLCBzZXR0aW5nczogYW55KSA9PiB7XG4gICAgaWYgKCFpc05hTihsaW5lKSkge1xuICAgICAgc2V0dGluZ3MubGluZSA9IGxpbmVcbiAgICAgIGRvU2Nyb2xsKGxpbmUpXG4gICAgfVxuICB9XG59KSgpXG5cbmNvbnN0IHVwZGF0ZUltYWdlU2l6ZXMgPSB0aHJvdHRsZSgoKSA9PiB7XG4gIGNvbnN0IGltYWdlSW5mbzogeyBpZDogc3RyaW5nLCBoZWlnaHQ6IG51bWJlciwgd2lkdGg6IG51bWJlciB9W10gPSBbXVxuICBjb25zdCBpbWFnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJylcbiAgaWYgKGltYWdlcykge1xuICAgIGxldCBpXG4gICAgZm9yIChpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaW1nID0gaW1hZ2VzW2ldXG5cbiAgICAgIGlmIChpbWcuY2xhc3NMaXN0LmNvbnRhaW5zKCdsb2FkaW5nJykpIHtcbiAgICAgICAgaW1nLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRpbmcnKVxuICAgICAgfVxuXG4gICAgICBpbWFnZUluZm8ucHVzaCh7XG4gICAgICAgIGlkOiBpbWcuaWQsXG4gICAgICAgIGhlaWdodDogaW1nLmhlaWdodCxcbiAgICAgICAgd2lkdGg6IGltZy53aWR0aCxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgbWVzc2FnaW5nLnBvc3RNZXNzYWdlKCdjYWNoZUltYWdlU2l6ZXMnLCBpbWFnZUluZm8pXG4gIH1cbn0sIDUwKVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICBzY3JvbGxEaXNhYmxlZCA9IHRydWVcbiAgdXBkYXRlSW1hZ2VTaXplcygpXG59LCB0cnVlKVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChldmVudCkgPT4ge1xuICBpZiAoZXZlbnQuZGF0YS5zb3VyY2UgIT09IHNldHRpbmdzLnNvdXJjZSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgc3dpdGNoIChldmVudC5kYXRhLnR5cGUpIHtcbiAgICBjYXNlICdvbkRpZENoYW5nZVRleHRFZGl0b3JTZWxlY3Rpb24nOlxuICAgICAgbWFya2VyLm9uRGlkQ2hhbmdlVGV4dEVkaXRvclNlbGVjdGlvbihldmVudC5kYXRhLmxpbmUpXG4gICAgICBicmVha1xuXG4gICAgY2FzZSAndXBkYXRlVmlldyc6XG4gICAgICBvblVwZGF0ZVZpZXcoZXZlbnQuZGF0YS5saW5lLCBzZXR0aW5ncylcbiAgICAgIGJyZWFrXG4gIH1cbn0sIGZhbHNlKVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIChldmVudCkgPT4ge1xuICBpZiAoIXNldHRpbmdzLmRvdWJsZUNsaWNrVG9Td2l0Y2hUb0VkaXRvcikge1xuICAgIHJldHVyblxuICB9XG5cbiAgLy8gSWdub3JlIGNsaWNrcyBvbiBsaW5rc1xuICBmb3IgKGxldCBub2RlID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50OyBub2RlOyBub2RlID0gbm9kZS5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50KSB7XG4gICAgaWYgKG5vZGUudGFnTmFtZSA9PT0gJ0EnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gIH1cblxuICBjb25zdCBvZmZzZXQgPSBldmVudC5wYWdlWVxuICBjb25zdCBsaW5lID0gZ2V0RWRpdG9yTGluZU51bWJlckZvclBhZ2VPZmZzZXQob2Zmc2V0KVxuICBpZiAodHlwZW9mIGxpbmUgPT09ICdudW1iZXInICYmICFpc05hTihsaW5lKSkge1xuICAgIG1lc3NhZ2luZy5wb3N0TWVzc2FnZSgnZGlkQ2xpY2snLCB7IGxpbmU6IE1hdGguZmxvb3IobGluZSkgfSlcbiAgfVxufSlcblxuY29uc3QgcGFzc1Rocm91Z2hMaW5rU2NoZW1lcyA9IFsnaHR0cDonLCAnaHR0cHM6JywgJ21haWx0bzonLCAndnNjb2RlOicsICd2c2NvZGUtaW5zaWRlcnM6J11cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgaWYgKCFldmVudCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgbGV0IG5vZGU6IGFueSA9IGV2ZW50LnRhcmdldFxuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChub2RlLnRhZ05hbWUgJiYgbm9kZS50YWdOYW1lID09PSAnQScgJiYgbm9kZS5ocmVmKSB7XG4gICAgICBpZiAobm9kZS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKS5zdGFydHNXaXRoKCcjJykpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBsZXQgaHJlZlRleHQgPSBub2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1ocmVmJylcbiAgICAgIGlmICghaHJlZlRleHQpIHtcbiAgICAgICAgLy8gUGFzcyB0aHJvdWdoIGtub3duIHNjaGVtZXNcbiAgICAgICAgaWYgKHBhc3NUaHJvdWdoTGlua1NjaGVtZXMuc29tZSgoc2NoZW1lKSA9PiBub2RlLmhyZWYuc3RhcnRzV2l0aChzY2hlbWUpKSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGhyZWZUZXh0ID0gbm9kZS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKVxuICAgICAgfVxuXG4gICAgICAvLyBJZiBvcmlnaW5hbCBsaW5rIGRvZXNuJ3QgbG9vayBsaWtlIGEgdXJsLCBkZWxlZ2F0ZSBiYWNrIHRvIFZTIENvZGUgdG8gcmVzb2x2ZVxuICAgICAgaWYgKCEvXlthLXotXSs6L2kudGVzdChocmVmVGV4dCkpIHtcbiAgICAgICAgbWVzc2FnaW5nLnBvc3RNZXNzYWdlKCdjbGlja0xpbmsnLCB7IGhyZWY6IGhyZWZUZXh0IH0pXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZVxuICB9XG59LCB0cnVlKVxuXG5pZiAoc2V0dGluZ3Muc2Nyb2xsRWRpdG9yV2l0aFByZXZpZXcpIHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRocm90dGxlKCgpID0+IHtcbiAgICBpZiAoc2Nyb2xsRGlzYWJsZWQpIHtcbiAgICAgIHNjcm9sbERpc2FibGVkID0gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbGluZSA9IGdldEVkaXRvckxpbmVOdW1iZXJGb3JQYWdlT2Zmc2V0KHdpbmRvdy5zY3JvbGxZKVxuICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZID09PSAwKSB7XG4gICAgICAgIC8vIHNjcm9sbCB0byB0b3AsIGRvY3VtZW50IHRpdGxlIGRvZXMgbm90IGhhdmUgYSBkYXRhLWxpbmUgYXR0cmlidXRlXG4gICAgICAgIG1lc3NhZ2luZy5wb3N0TWVzc2FnZSgncmV2ZWFsTGluZScsIHsgbGluZTogMCB9KVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGluZSA9PT0gJ251bWJlcicgJiYgIWlzTmFOKGxpbmUpKSB7XG4gICAgICAgIG1lc3NhZ2luZy5wb3N0TWVzc2FnZSgncmV2ZWFsTGluZScsIHsgbGluZSB9KVxuICAgICAgfVxuICAgIH1cbiAgfSwgNTApKVxufVxuIl0sIm5hbWVzIjpbIkZVTkNfRVJST1JfVEVYVCIsInJlVHJpbSIsInJlSXNCYWRIZXgiLCJyZUlzQmluYXJ5IiwicmVJc09jdGFsIiwiZnJlZVBhcnNlSW50IiwicGFyc2VJbnQiLCJmcmVlR2xvYmFsIiwiZyIsIk9iamVjdCIsImZyZWVTZWxmIiwic2VsZiIsInJvb3QiLCJGdW5jdGlvbiIsIm9iamVjdFRvU3RyaW5nIiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJuYXRpdmVNYXgiLCJNYXRoIiwibWF4IiwibmF0aXZlTWluIiwibWluIiwibm93IiwiRGF0ZSIsImlzT2JqZWN0IiwidmFsdWUiLCJ0eXBlIiwidG9OdW1iZXIiLCJpc09iamVjdExpa2UiLCJjYWxsIiwiaXNTeW1ib2wiLCJvdGhlciIsInZhbHVlT2YiLCJyZXBsYWNlIiwiaXNCaW5hcnkiLCJ0ZXN0Iiwic2xpY2UiLCJtb2R1bGUiLCJleHBvcnRzIiwiZnVuYyIsIndhaXQiLCJvcHRpb25zIiwibGVhZGluZyIsInRyYWlsaW5nIiwiVHlwZUVycm9yIiwibGFzdEFyZ3MiLCJsYXN0VGhpcyIsIm1heFdhaXQiLCJyZXN1bHQiLCJ0aW1lcklkIiwibGFzdENhbGxUaW1lIiwibGFzdEludm9rZVRpbWUiLCJtYXhpbmciLCJpbnZva2VGdW5jIiwidGltZSIsImFyZ3MiLCJ0aGlzQXJnIiwidW5kZWZpbmVkIiwiYXBwbHkiLCJsZWFkaW5nRWRnZSIsInNldFRpbWVvdXQiLCJ0aW1lckV4cGlyZWQiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRyYWlsaW5nRWRnZSIsInJlbWFpbmluZ1dhaXQiLCJkZWJvdW5jZWQiLCJpc0ludm9raW5nIiwiYXJndW1lbnRzIiwidGhpcyIsImNhbmNlbCIsImNsZWFyVGltZW91dCIsImZsdXNoIiwiZGVib3VuY2UiLCJvbkRpZENoYW5nZVRleHRFZGl0b3JTZWxlY3Rpb24iLCJsaW5lIiwicHJldmlvdXMiLCJnZXRFbGVtZW50c0ZvclNvdXJjZUxpbmUiLCJfdXBkYXRlIiwiZWxlbWVudCIsImJlZm9yZSIsIl91bm1hcmtBY3RpdmVFbGVtZW50IiwiX2N1cnJlbnQiLCJfbWFya0FjdGl2ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJmIiwiZG9jdW1lbnQiLCJyZWFkeVN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNyZWF0ZVBvc3RlckZvclZzQ29kZSIsInZzY29kZSIsInBvc3RNZXNzYWdlIiwiYm9keSIsInNvdXJjZSIsImdldFNldHRpbmdzIiwiY2xhbXBMaW5lIiwibGluZUNvdW50IiwiZ2V0Q29kZUxpbmVFbGVtZW50cyIsImVsZW1lbnRzIiwiQXJyYXkiLCJtYXAiLCJxdWVyeVNlbGVjdG9yQWxsIiwibnVtIiwic3BsaXQiLCJwb3AiLCJtYXRjaCIsImZpbHRlciIsIngiLCJpc05hTiIsInRhcmdldExpbmUiLCJsaW5lTnVtYmVyIiwiZmxvb3IiLCJsaW5lcyIsImVudHJ5IiwibmV4dCIsImdldExpbmVFbGVtZW50c0F0UGFnZU9mZnNldCIsIm9mZnNldCIsInBvc2l0aW9uIiwid2luZG93Iiwic2Nyb2xsWSIsImxvIiwiaGkiLCJsZW5ndGgiLCJtaWQiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJoZWlnaHQiLCJoaUVsZW1lbnQiLCJoaUJvdW5kcyIsInNjcm9sbFByZXZpZXdXaXRoRWRpdG9yIiwic2Nyb2xsVG8iLCJwcmV2aW91c1RvcCIsImJldHdlZW5Qcm9ncmVzcyIsImVsZW1lbnRPZmZzZXQiLCJzY3JvbGwiLCJwcmV2aW91c0JvdW5kcyIsIm9mZnNldEZyb21QcmV2aW91cyIsInByb2dyZXNzQmV0d2VlbkVsZW1lbnRzIiwicHJvZ3Jlc3NXaXRoaW5FbGVtZW50IiwiY2FjaGVkU2V0dGluZ3MiLCJnZXREYXRhIiwia2V5IiwiZ2V0RWxlbWVudEJ5SWQiLCJkYXRhIiwiZ2V0QXR0cmlidXRlIiwiSlNPTiIsInBhcnNlIiwiRXJyb3IiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2xvYmFsVGhpcyIsImUiLCJzY3JvbGxEaXNhYmxlZCIsIm1hcmtlciIsIkFjdGl2ZUxpbmVNYXJrZXIiLCJzZXR0aW5ncyIsImFjcXVpcmVWc0NvZGVBcGkiLCJzdGF0ZSIsInNldFN0YXRlIiwibWVzc2FnaW5nIiwiY3NwQWxlcnRlciIsInNldFBvc3RlciIsInN0eWxlTG9hZGluZ01vbml0b3IiLCJvbmxvYWQiLCJ1cGRhdGVJbWFnZVNpemVzIiwib25jZURvY3VtZW50TG9hZGVkIiwiaW5pdGlhbExpbmUiLCJzY3JvbGxUb1JldmVhbFNvdXJjZUxpbmUiLCJvblVwZGF0ZVZpZXciLCJkb1Njcm9sbCIsInRocm90dGxlIiwiaW1hZ2VJbmZvIiwiaW1hZ2VzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpIiwiaW1nIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJyZW1vdmUiLCJwdXNoIiwiaWQiLCJ3aWR0aCIsImV2ZW50IiwiZG91YmxlQ2xpY2tUb1N3aXRjaFRvRWRpdG9yIiwibm9kZSIsInRhcmdldCIsInBhcmVudE5vZGUiLCJ0YWdOYW1lIiwicGFnZVkiLCJnZXRFZGl0b3JMaW5lTnVtYmVyRm9yUGFnZU9mZnNldCIsInBhc3NUaHJvdWdoTGlua1NjaGVtZXMiLCJocmVmIiwic3RhcnRzV2l0aCIsImhyZWZUZXh0Iiwic29tZSIsInNjaGVtZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwic2Nyb2xsRWRpdG9yV2l0aFByZXZpZXciXSwic291cmNlUm9vdCI6IiJ9